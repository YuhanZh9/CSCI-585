create extension POSTGIS;
CREATE EXTENSION postgis_topology;

CREATE TABLE map (name varchar, geom geometry);
INSERT INTO map VALUES
    ('Home', 'POINT(-118.3055501096387 34.02173206682616)'),
    ('SSL', 'POINT(-118.28882050624088 34.019959049367685)'),
    ('DML', 'POINT(-118.28423255518909 34.020314583203294)'),
    ('LVL', 'POINT(-118.28330261891662 34.02158009334931)'),
    ('ACC', 'POINT(-118.28583589766015 34.01920988227626)'),
    ('TSM', 'POINT(-118.28537212695767 34.02279955803791)'),
    ('Viterbi', 'POINT(-118.28894298534682 34.020834253201365)'),
    ('Seeds', 'POINT(-118.28601543802608 34.02055433954496)'),
    ('Tommy', 'POINT(-118.28622452993112 34.01979425395981)'),
    ('Everybody', 'POINT(-118.28221336283924 34.02129577584927)'),
    ('Architecture', 'POINT(-118.28782244681008 34.018567814010225)'),
    ('MuddHall', 'POINT(-118.28637803915728 34.01883089452425)'),
    ('HanhPlaza', 'POINT(-118.2850943241813 34.0202156532466)');

SELECT ST_AsText(ST_ConvexHull(ST_Collect(geom))) FROM map;

SELECT name, ST_AsText(geom), st_distance((SELECT geom FROM map WHERE name='Home'), geom) as distance
FROM map
WHERE name!='Home'
ORDER BY distance
LIMIT 4;
